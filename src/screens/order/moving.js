import React, {Component} from "react";import {Image, StyleSheet, StatusBar} from "react-native";import {    Container,    Content,    Header,    Title,    Button,    Icon,    Left,    Right,    Body,    Text,    H1,    H2,    View,    H3,    Card,    CardItem,    Thumbnail,Footer,Input, Form,Item, Toast, ListItem,} from "native-base";import {Grid, Row, Col} from "react-native-easy-grid";import styles from "./styles";import common from "../../common/common";import ServiceItem from "../../entity/ServiceItem";import serviceType from "../../data/service_type";var serviceItem = Object.create(ServiceItem);const img = require("../../../assets/boxtify_warehouse.png");export default class Moving extends Component {    //默认属性    static defaultProps = {        month: 0,        price: 0,    }    constructor(props) {        super(props);        serviceItem.type = this.props.navigation.state.params.info        this.state = {            month: 0,            totalPrice: 0,            price : 0        };    }    cal(month) {        var reg = new RegExp("^[0-9]*$");        if(!reg.test(month)){            alert("請輸入有效月數");            return        }        // else if(month.length == 0) {        //     alert("請輸入月數");        //     return        // }        this.setState({            month:  month        });        var index = 0        if(month <=5  ) {            index =   0        } else if( month>=6 && month <=11  ) {            index =   1        }else if( month>=12  ) {            index =   2        }        this.setState({            totalPrice:   month * serviceType[serviceItem.type][index].price,            price: serviceType[serviceItem.type][index].price,        });    }    next() {        if(this.state.month == 0) {            common.toast( "請輸入月數")            return        } else {            serviceItem.code = serviceType[serviceItem.type][0].code            serviceItem.name = serviceType[serviceItem.type][0].name            serviceItem.price = this.state.price            serviceItem.month = this.state.month            serviceItem.amount = 1            //            // let selectMove = [            //     {            //         code: 'xl-12',            //         name: '12平方呎',            //         price: "25",            //         amount: this.state.month, //month            //         totalPrice: this.state.totalPrice,            //     },            //            // ];            console.log(serviceItem)            this.props.navigation.navigate("Schedule", { service_items: [serviceItem]} )        }    }    render() {        return (            <Container>                <StatusBar barStyle="light-content"/>                <Header>                    <Left>                        <Button transparent onPress={() => this.props.navigation.goBack()}>                            <Icon name="arrow-back" style={{color:"#FFF"}}/>                        </Button>                    </Left>                    <Body>                    <Title>選擇計劃</Title>                    </Body>                    <Right>                        <Button transparent onPress={() => this.next()}>                            <Title>下一步</Title>                        </Button>                    </Right>                </Header>                <Content padder>                    <ListItem itemHeader first>                        <Text>若不清楚哪個計劃最適合您，請向客戶服務主任查詢：info@Boxtify.com.hk 或 Whatsapp                            93224993</Text>                    </ListItem>                    <ListItem thumbnail  >                        <Left>                            <Thumbnail square size={55} source={img}/>                        </Left>                        <Body>                        <Text>                            12平方呎(實用)                        </Text>                        <Text numberOfLines={1} note>                            每月 $650 半年 $585 一年 $520                        </Text>                        </Body>                        <Right>                        </Right>                    </ListItem>                    <ListItem  >                        <Body>                        <Text></Text>                        </Body>                        <Right >                            <Item regular style={{width: 100}}>                                <Input placeholder={"輸入月數"}   keyboardType ='numeric'                                       onChangeText={(e) => this.cal(e)}/>                            </Item>                        </Right>                    </ListItem>                    {/*<Card style={styles.mb}>*/}                        {/*<CardItem>*/}                            {/*<Grid>*/}                                {/*<Col size={1}>*/}                                    {/*<Thumbnail square size={80} source={img}/>*/}                                {/*</Col>*/}                                {/*<Col size={2}>*/}                                    {/*<Body*/}                                        {/*style={{*/}                                            {/*justifyContent: 'center',*/}                                        {/*}}>*/}                                    {/*<Text style={{ marginBottom: 10, color:common.colorB}}>12平方呎(實用)</Text>*/}                                    {/*<Text numberOfLines={1} note>每月 $650</Text>*/}                                    {/*<Text numberOfLines={1} note>半年 $585</Text>*/}                                    {/*<Text numberOfLines={1} note>一年 $520</Text>*/}                                    {/*</Body>*/}                                {/*</Col>*/}                                {/*<Col size={2}><Body style={{*/}                                    {/*justifyContent: 'center',*/}                                {/*}}>*/}                                    {/*<Item regular>*/}                                      {/*<Input  style={{}} placeholder={"月數"}  keyboardType ='numeric'*/}                                              {/*onChangeText={(e) => this.cal(e)}/>*/}                                    {/*</Item>*/}                                {/*</Body>*/}                                {/*</Col>*/}                            {/*</Grid>*/}                        {/*</CardItem>*/}                    {/*</Card>*/}                </Content>                <Footer style={{backgroundColor: "#00c4b4", }}>                    <Left>                        <Text style={{color: "#fff" , marginLeft:10}}>儲存月費預算</Text>                    </Left>                    <Right>                        <H1 style={{color: "#fff", marginRight:10 }}>${this.state.totalPrice.toString()}</H1>                    </Right>                </Footer>            </Container>        );    }}